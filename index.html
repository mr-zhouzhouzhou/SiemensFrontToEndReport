<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
	</head>
	<body>
	
		<div class="fristbody">
			<h1>基于 Kibana6.4 的 React 插件开发</h1>	
			<div name="React" class="secondDiv">
				<h2>一、React</h2>
				<div class="thirdDiv">
					<h3>1.介绍</h3>
					<p>1、React 是 Facebook 内部开源出来的一个前端 UI 开发框架，广义上 React 不仅是 js 框架，更是一套完整的前端开发生态体系，包括：</p>
					<p>2、ReactRenders: ReactDOM / ReactServer / ReactCanvas</p>
					<p>3、React.js</p>
					<p>4、Flux 模式及其实现（Redux , Fluxxor）</p>
					<p>5、React 开源组件</p>
					<p>6、React Native</p>
					<p>7、GraphQl + Relay</p>
				</div>
				<div class="thirdDiv">
					<h3>2.核心概念：</h3>
					<div class="imgdiv">
						<img src="imgs/12.png"/>
					</div>
					<div class="fourthDiv">
						<h4>1、React.js</h4>
						<p>React.js 是 React 的核心库，在应用中必须先加载核心库。</p>
					</div >
					<div class="fourthDiv">
						<h4>2、ReactDOM.js</h4>
						<p>ReactDOM.js 是 React 的 DOM 渲染器，React 将核心库和渲染器分离开，为了在 web 页面中显示开发的组件，需要调用 ReactDOM.render 方法， 第一个参数是 React 组件，第二个参数为 HTMLElement。</p>
					</div>
					<div class="fourthDiv">
						<h4>3、JSX</h4>
						<p>JSX 是 React 自定义的语法，最终 JSX 会转化为 JS 运行于页面当中。可以允许用戶像写 HTML 一样，在 JavaScript 代码当中直接写页面，React 会在随后的渲染过程当中自动把 JSX 转译成页面当中真实的 DOM 元素。</p>
					</div>
					<div class="fourthDiv">
						<h4>4、组件</h4>
						<p>组件是 React 中的核心概念，页面当中的所有元素都是通过 React 组件来表达， 通常要写的 React 代码绝大部分都是在做 React 组件的开发。</p>
						<div class="imgdiv">
							<img src="imgs/1.png"/>
						</div>	
					</div>
					
					<div class="fourthDiv">
						<h4>5、VIRTUAL DOM</h4>
						<p>React 抽象出来的虚拟 DOM 树，虚拟树是 React 高性能的关键。Virtual DOM 是以 JavaScript 物件模擬特定 DOM 結構而產生的樹狀結構。用途是不直接操作 DOM，而改操作這些物件。待一個段落後，再將這些變更更新回真實的 DOM 上，以期提升效能。</p>
						<div class="imgdiv">
							<img src="imgs/13.png"/>
						</div>							
					</div>
					
					<div class="fourthDiv">
						<h4>6、单向数据流：one-way reactive data flow</h4>
						<p>React 应用的核心设计模式，数据流向自顶向下。数据主要从父节点传递到子节点（通过props）。
						如果顶层（父级）的某个 props 改变了，React 会重渲染所有的子节点。如果必须更新数据的话，则只有父组件应该进行更新；
						如果子组件需要更改数据，它将会更新的数据发送给父组件，由父组件完成更改，父组件执行更改后，将会更新的数据传递给子组件。</p>
						<div class="imgdiv">
							<img src="imgs/6.png"/>
						</div>
						
					</div>
					
					
				</div>
	
	
			</div>
			<div name="Redux" class="secondDiv">
				<h2>二、Redux</h2>
				<p>Redux 是个全域的状态管理物件。 想法来自于 flux 的架构。 我们需要 Redux 因为当 react app 越来越大的时候状态会变得难以管理。</p>
				<div class="thirdDiv">
					<h3>1、With and without Redux</h3>
					<p>从下方的图可以看出 React 的单项资料流在不同子树之间要交换资讯是相当麻烦的，使用 Redux 之后，元件要传送资讯只要透过发出 action，要接收任意地方的资讯只要向 store 订阅通知即可，元件也变得更好维护，也更有弹性。</p>
					<div class="imgdiv">
						<img src="imgs/5.png"/>
					</div>
				</div>
				
				<div class="thirdDiv">
					<h3>2、三大元件</h3>
					<p>1、action: 描述发生的事件类别(type)，以及所承载的资讯(payload)。</p>
					<p>2、reducer: 一个函式，负责将给定的 state 根据给定的 action 做变化而得到新的 state。</p>
					<p>3、store: 整个 Redux 运作的核心，负责储存整个 state tree，每个专案只会有一个 store。</p>
				</div>
				<div class="thirdDiv">
					<h3>3、三大原则</h3>
					<div  class="fourthDiv">
						<h4>1、Single source of truth（单一数据源）</h4>
						<p>在应用中state存储在一个 object tree，而且这个 object tree 在该应用中是唯一一个的。将所有state存在于应用中唯一一个object tree 带来的好处是：可以实现开发环境下的保存状态的历史状态，实现Undo/Redo等功能。(payload)。</p>			
					</div>
					<div  class="fourthDiv">
						<h4>2、State is read-only (State 只读性)</h4>
						<p>改变 state 的唯一方式就是触发一个 action（action 是一个用于描述发生了什么的对象）</p>
					</div>
					<div  class="fourthDiv">
						<h4>3、Changes are made with pure functions (使用纯函数进行更改)</h4>
						<p>为了描述action 如何具体改变 state tree，需要编写reducers。Reducer 只是一些纯函数。Reducer 接收 state 和 action 作为参数，并返回新的 state。</p>
					</div>
					
					
				</div>
				
				<div class="thirdDiv">
					<h3>4、Redux 运作流程：</h3>
					<div class="imgdiv">
						<img src="imgs/11.png"/>
					</div>
				</div>
				<div class="thirdDiv">
					<h3>5、redux 中间件：</h3>
					<div  class="fourthDiv">
						<h4>5.1、常规</h4>
						<p>	一般情况下，redux 是不具备处理异步请求的能力，稚嫩沟通过间接或者添加中间件的方式，加强了对 dispatch 的能力，使得 redux 具备异步的能力。中间件方式中核心部分就是 redux 提供的 applyMiddleWare 这个高阶函数，通过多层调用后悔返回一个全新的 store 对象，全新的 store 对象和原来对象中，唯一的不同就是 dispatch 具备了异步的功能。</p>
						<div class="imgdiv">
							<img src="imgs/7.png"/>
						</div>
					</div>
					<div class="fourthDiv">
						<h4>5.2、异步操作基本思路：需发出三种 action</h4>
						<p>1、操作发起时的 Action</p>
						<p>2、操作成功时的 Action</p>
						<p>3、操作失败时的 Action</p>
					</div>
					<div class="fourthDiv">
						<h4>5.3、redux-thunk 中间件</h4>
						<p>可以接受一个返回函数的 action creator。如果这个 action creator 返回的是一个函数，就执行它，如果不是，就按照原来的 next(action) 执行。</p>
					</div>
				</div>
			</div>
			<div name="Siemens Kibana Plugin" class="secondDiv">
				<h2>三、Siemens Kibana Plugin</h2>
				<div class="thirdDiv">
					<h3>1、目录结构：</h3>
					<div class="imgdiv">
						<img src="imgs/8.png"/>
					</div>
					
				</div>
				
				<div class="thirdDiv">
					<h3>2、Dashboard 架构：</h3>
					<div class="imgdiv">
						<img src="imgs/9.png"/>
					</div>
					
				</div>
				<div class="thirdDiv">
					<h3>3、组件交互：</h3>
					<div class="imgdiv">
						<img src="imgs/10.png"/>
					</div>
					<div class="fourthDiv">
						<h4>3.1、流程</h4>
						<p>1、用户点击或选择 Component</p>
						<p>2、View（UI）通过 dispatch 方法发送改变当前 State 的 Action </p>
						<p>3、Reducer 接受 Action 和当前的 state 作为参数，返回一个新的 state，并使 View 发生变化</p>
					</div>
					
				</div>
			
		</div>
			<div name="ECHARTS" class="secondDiv">
				<h2>四、Echarts</h2>
				<div class="thirdDiv">
					<h3>1、认识Echarts</h3>
					<p>
						ECharts，缩写来自 Enterprise Charts，商业级数据图表，是百度的一个开源的数据可视化工具，一个纯 Javascript 的图表库，
						能够在 PC 端和移动设备上流畅运行，兼容当前绝大部分浏览器（IE6/7/8/9/10/11，chrome，firefox，Safari等），底层依赖轻量级的 Canvas 
						库 ZRender，ECharts 提供直观，生动，可交互，可高度个性化定制的数据可视化图表。创新的拖拽重计算、数据视图、值域漫游等特性大大增强了用户体验，
						赋予了用户对数据进行挖掘、整合的能力。
					</p>
				</div>
				<div class="thirdDiv">
					<h3>2、Echarts的特点</h3>					
					<p>1、ECharts 属于开源软件，并且我们提供了非常炫酷的图形界面，特色是地图，另外还提供了柱状图、折线图、饼图、气泡图及四象限图等；</p> 
					<p>2、ECharts 使用简单，在官网中为我们封装了 JS，只要会引用就会得到完美的展示效果；</p> 
					<p>3、ECharts 种类多，ECharts 实现简单，各类图形都有；相应的模板，还有丰富的 API 及文档说明，非常详细</p> 
					<p>4、ECharts 兼容性好，基于HTML5，有着良好的动画渲染效果。</p>				
				</div>
				
				<div class="thirdDiv">
					<h3>3、混搭</h3>
					<div class="fourthDiv">
						<h4>1、混搭的图表会更具表现力也更有趣味，ECharts提供的图表（共9类14种）支持任意混搭： </h4>
						<p>折线图（区域图）、柱状图（条状图）、散点图（气泡图）、K线图、 饼图（环形图）、雷达图、地图、和弦图、力导布局图。 </p>
					</div>
					<div class="fourthDiv">
						<h4>2、混搭情况下一个标准图表：</h4>
						<p>包含唯一图例、工具箱、数据区域缩放、值域漫游模块，一个直角坐标系（可包含一条或多条类目轴线，一条或多条值轴线，最多上下左右四条）</p>
					</div>
					<div class="imgdiv">
						<img src="imgs/mix.jpg"/>
					</div>
				</div>
				
				<div class="thirdDiv">
					<h3>3、拖拽重计算</h3>
					<p>
						拖拽重计算特性（专利）带来了数据统计图表从未有过的用户体验，
						允许用户对统计数据进行有效的提取、整合，甚至在多个图表间交换数据，
						赋予了用户对数据进行挖掘、整合的能力。
					</p>
					<div class="imgdiv">
						<img src="imgs/draggable.gif"/>
					</div>
				</div>
				
				<div class="thirdDiv">
					<h3>4、数据视图</h3>
					<p>如果你所呈现的数据足够让用户所关心，那么他们将不满足于查看可视化的图表，要去逐一迎合他们下载保存，数据分享，加工整合已有数据等等需求？ </p>
					<p>或许你只要给予一个","分隔的数据文本他们就懂了，这就是ECharts的数据视图！当然，你可以重载数据视图的输出方法，用你独特的方式去呈现数据。 
					如果你的用户足够的高端，你甚至可以打开数据视图的编辑功能，跟拖拽重计算相比，这可是批量的数据修改!</p>
					<div class="imgdiv">
						<img src="imgs/dataView.gif"/>
					</div>
				</div>
				
				<div class="thirdDiv">
					<h3>5、动态类型切换</h3>
					<p>很多图表类型本身所表现的能力是相似的，但由于数据差异、表现需求和个人喜好的不同导致最终图表所呈现的张力又大不一样，
						比如折线图和柱状图的选择,系列数据是堆叠还是平铺总是让人头疼。ECharts提供了动态类型切换，让用户随心所欲的切换到
						他所需要的图表类型和堆叠状态。</p>
					<div class="imgdiv">
						<img src="imgs/magicType.gif"/>
					</div>
				</div>
				
				<div class="thirdDiv">
					<h3>6、数据区域选择</h3>
					<p>数据可以是无限的，但显示空间总是有限的，数据区域选择组件提供了大数据量中漫游的能力，让用户选择并呈现他所关心的数据区域。 
						配合随动的均值（极值）标线，标注展现强大的数据剖析能力。</p>
					<div class="imgdiv">
						<img src="imgs/datazoom.gif"/>
					</div>
				</div>
				<div class="thirdDiv">
					<h3>7、炫光特效 </h3>
					<p>我们知道，很多时候我们需要一些吸引眼球的能力。 ECharts支持标注标线的炫光特效，特别用在地图上轻松实现百度迁徙数据可视化特效。</p>
					<div class="imgdiv">
						<img src="imgs/effect.gif"/>
					</div>
				</div>
				
			
			</div>
			<div name="SOLUTION" class="secondDiv">
				<h2>五、结合</h2>
				<p>
					前面讲了那么多react和echarts的优点。那么我们也就明白了，为什么Kibana在数据可视化领域，有如此大的威力和影响力和魅力。
					因为Kibana也是基于react的。至于为什么，我们选择使用echarts？因为上面我们讲的那么多echarts的优点，让二者结合成为了必然的。
					由于github上面提供了echarts的react插件，让我们把三者结合成为可能，也解决了我们很多困难。
				</p>
			</div>
			
			<div name="SOLUTION" class="secondDiv">
				<h2>六、参考文献</h2>
				<p><a href="https://www.w3cschool.cn/html5/q2ybmfle.html">https://www.w3cschool.cn/html5/q2ybmfle.html</a></p>
				<p><a href="https://github.com/ecomfe/echarts">https://github.com/ecomfe/echarts</a></p>
				<p><a href="http://echarts.baidu.com/">http://echarts.baidu.com/</a></p>
				<p><a href="https://www.elastic.co/products/kibana">https://www.elastic.co/products/kibana</a></p>
				<p><a href="https://github.com/elastic/kibana">https://github.com/elastic/kibana</a></p>
				<p><a href="https://github.com/hustcc/echarts-for-react">https://github.com/hustcc/echarts-for-react</a></p>
				
			</div>
		</div>
	
	</body>
</html>
